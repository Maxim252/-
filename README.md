# Автономный автобус
Краткое описание назначения и применения продукта:

Продукт - автономный автобус с бесконтактной оплатой проезда на основе биометрии.

Автобус сканирует лицо пассажира на входе и проводит оплату после идентификации.

  ![image](https://github.com/user-attachments/assets/a9ed372a-a1fa-486d-8511-f23937d3a2d5)

**Преимущества:**

✔ Снижение затрат на обслуживание (нет кассиров и валидаторов).

✔ Ускорение посадки за счет автоматизированного процесса.

✔ Гигиеничность (минимум касаний поверхностей).

✔ Интеграция с мобильными приложениями и банковскими системами.

**Роли пользователей**

Оператор системы - вводит информацию о маршрутах

Сотрудник депо - проверяет системы автобуса перед выходом на маршрут

Пассажиры - перемещаются в автобусе согласно маршруту



### Ключевые ценности, риски и неприемлемые события для автономного автобуса с биометрической оплатой

| Ценность                | Негативное событие                                                                 | Уровень ущерба | Комментарий                                                                 |
|-------------------------|-----------------------------------------------------------------------------------|----------------|-----------------------------------------------------------------------------|
| **Безопасность**        | Ложное срабатывание биометрии (пропуск постороннего/отказ законному пассажиру)    | Высокий        | Риск конфликтов, задержек, подрыв доверия к системе                        |
| **Конфиденциальность**  | Утечка биометрических данных (лиц, платежной информации)                          | Критический    | Юридические последствия, репутационный ущерб, штрафы       |
| **Надежность системы**  | Сбой оплаты (ошибка сканера/транзакции)                                           | Средний        | Прерывание работы → бесплатный проезд или остановка транспорта             |
| **Скорость посадки**    | Задержки из-за медленного распознавания                                           | Средний        | Образование очередей, недовольство пассажиров                             |



**Контекст**

![mermaid-diagram-2025-03-30-231847](https://github.com/user-attachments/assets/3585e61a-b1ad-4296-96cf-c1fe775894cb)


**Основные функциональные сценарии**

![image](https://github.com/user-attachments/assets/8c413de1-7dc2-4e6a-91a6-3ab52eaf8e54)

**Высокоуровневая архитектура**

![image](https://github.com/user-attachments/assets/5ec76da5-0311-46b0-8c01-d9e7cd111656)

## Подсистемы

| Подсистема   | Назначение                                                                 | Компоненты/Функции                                                                 |
|--------------|----------------------------------------------------------------------------|-----------------------------------------------------------------------------------|
| **Пассажир** | Инициатор процесса: использует сервис для входа в автобус                  | • Сканирование лица через терминал<br>• Взаимодействие с системой доступа         |
| **Биометрия** | Идентификация пользователя по лицу                                         | • HD-камеры с ИК-подсветкой<br>• FaceNet для распознавания<br>• Liveness Check    |
| **Платежи**  | Проведение транзакции и управление доступом                                | • Проверка баланса в реальном времени<br>• Оффлайн-кеш на 100 транзакций          |
| **Банк**     | Подтверждение платежей и обработка финансовых операций                     | • REST API с PSD2-совместимостью<br>• Система анализа мошенничества               |
| **Управление** | Контроль физических систем автобуса                                       | • CAN-шина для управления дверьми<br>• Датчики безопасности (закрытие при движении)|
| **Двери**    | Механизм предоставления доступа                                            | • Электропривод 24V<br>• Аварийный ручной размыкатель                            |
| **Сеть**     | Передача данных между компонентами                                         | • 5G/LTE модем с dual-SIM<br>• Локальное хранилище логов (SQLite)                 |


**Расширенные диаграммы функциональных сценариев**
Иллюстрация взаимодействия подсистем, указанных в высокоуровневой архитектуре

![image](https://github.com/user-attachments/assets/d48b4842-3e52-4429-8137-b96aa53c401d)

**Цели и предположения безопасности**

**Цели безопасности**
1. Автобус предоставляет доступ только верифицированным пассажирам;
2. Никто не может подменить или удалить данные о поездках;
3. Система функционирует  при потере связи с банком;
4. Биометрия и платежные данные недоступны для посторонних.
   
**Предположения безопасности**
1. Физическая защита работает;
2. Сеть автобуса изолирована;
3. Шифрование надежно.

**Таблица соотнесения ценностей, неприемлемых событий и целей безопасности**

| Ценность                      | Неприемлемое событие                     | Оценка ущерба |     цели      | 
|-------------------------------|------------------------------------------|---------------|---------------|
| **Биометрические данные**     | Утечка/кража биометрических шаблонов     | Высокий       |      4        |   
| **Платежные транзакции**      | Подмена/отмена транзакций                | Высокий       |       3       |  
| **Доступность автобуса**      | DDoS-атака на сетевой модуль             | Средний       |         3     |  
| **Физические механизмы**      | Несанкционированное открытие/блокировка  | Критический   |         -       |  
| **Логи операций**             | Фальсификация/удаление записей           | Средний       |         2       |  


**Негативные сценарии**

![image](https://github.com/user-attachments/assets/7c14de86-e0ec-43c1-9e9b-c0bc72946afc)

**Политика архитектуры**

![mermaid-diagram-2025-03-30-225150](https://github.com/user-attachments/assets/51129fe5-1657-4c84-87f0-d0cacb164c20)

# Таблица доменов безопасности системы

| Домен безопасности       | Уровень доверия           | Оценка сложности и размера | Обоснование                                                                 |
|--------------------------|---------------------------|----------------------------|-----------------------------------------------------------------------------|
| **Пассажир**             | Недоверенная сущность     | [S, S]                     | Внешний пользователь, минимальный контроль над входными данными            |
| **Биометрия**            | Доверенная сущность       | [C, L]                     | Критичный компонент с алгоритмами ИИ      |
| **Платежи**              | Доверенная сущность       | [M, M]                     | Ядро финансовых операций, интеграция с API                |
| **Банк**                 | Доверенная+ (целостность) | [C, XL]                    | Внешняя система с высочайшими требованиями к безопасности    |
| **Управление**           | Недоверенная сущность     | [M, M]                     | Физические системы управления, потенциал для аппаратных сбоев             |
| **Двери**                | Недоверенная сущность     | [S, S]                     | Простая механика, минимальная логика                       |
| **Сеть**                 | Недоверенная сущность     | [M, L]                     | Внешние коммуникации, уязвима к атакам    |


